/*! tabletojson - v0.9.0 - Daniel White */
!function(a){"use strict";a.fn.tableToJSON=function(b){var c={ignoreColumns:[],onlyColumns:null,ignoreHiddenRows:!0,headings:null,allowHTML:!1,includeRowId:!1};b=a.extend(c,b);var d=function(a){return void 0!==a&&null!==a},e=function(c){return d(b.onlyColumns)?-1===a.inArray(c,b.onlyColumns):-1!==a.inArray(c,b.ignoreColumns)},f=function(b,c){var e={},f=0;return a.each(c,function(a,c){f<b.length&&d(c)&&(e[b[f]]=c,f++)}),e},g=function(c,e){var f,g,h=a(e).data("override");return f=a.trim(b.allowHTML?a(e).html():a(e).text()),g=d(h)?h:f},h=function(c){var d=[],e=b.includeRowId,f="boolean"==typeof e?e:"string"==typeof e?!0:!1,h="string"==typeof e==!0?e:"rowId";return f&&"undefined"==typeof a(c).attr("id")&&d.push(h),a(c).children("td,th").each(function(a,b){d.push(g(a,b))}),d},i=function(a){var c=a.find("tr:first").first();return d(b.headings)?b.headings:h(c)},j=function(c,h){var i,j,k,l,m,n,o,p=[],q=0,r=[];return c.children("tbody,*").children("tr").each(function(c,e){if(c>0||d(b.headings)){var f=b.includeRowId,h="boolean"==typeof f?f:"string"==typeof f?!0:!1;n=a(e),(n.is(":visible")||!b.ignoreHiddenRows)&&(q=0,p[c]||(p[c]=[]),h&&(q+=1,p[c].push("undefined"!=typeof n.attr("id")?n.attr("id"):"")),n.children().each(function(){if(o=a(this),o.filter("[rowspan]").length)for(k=parseInt(o.attr("rowspan"),10)-1,m=g(q,o,[]),i=1;k>=i;i++)p[c+i]||(p[c+i]=[]),p[c+i][q]=m;if(o.filter("[colspan]").length)for(k=parseInt(o.attr("colspan"),10)-1,m=g(q,o,[]),i=1;k>=i;i++)if(o.filter("[rowspan]").length)for(l=parseInt(o.attr("rowspan"),10),j=0;l>j;j++)p[c+j][q+i]=m;else p[c][q+i]=m;for(;p[c][q];)q++;m=p[c][q]||g(q,o,[]),d(m)&&(p[c][q]=m),q++}))}}),a.each(p,function(c,g){if(d(g)){var i=d(b.onlyColumns)||b.ignoreColumns.length?a.grep(g,function(a,b){return!e(b)}):g,j=d(b.headings)?h:a.grep(h,function(a,b){return!e(b)});m=f(j,i),r[r.length]=m}}),r},k=i(this);return j(this,k)}}(jQuery);